<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"ru"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Приложение HSK 1: Иероглифы по урокам</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Подключаем Tailwind CSS для красивого и адаптивного дизайна --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Подключаем Hanzi Writer для анимации порядка черт --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/hanzi-writer@2.0.2/dist/hanzi-writer.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Устанавливаем шрифт Inter */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #f7f7f7</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">flex-start</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100vh</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">20px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.container</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s9">800px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">white</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">12px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">25px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Стили для контейнеров */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#animationTarget</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #fff</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #a8a29e</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">6px</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">8px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#writingCanvas</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #3b82f6</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #fff</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">crosshair</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">6px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.info-box</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #eff6ff</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #1e40af</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-left:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #3b82f6</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Стили кнопок */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.action-button</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">all</span><span class="s1"> </span><span class="s9">0.15s</span><span class="s1"> </span><span class="s5">ease-in-out</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.action-button:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">translateY(</span><span class="s9">-1px</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">59</span><span class="s7">,</span><span class="s1"> </span><span class="s9">130</span><span class="s7">,</span><span class="s1"> </span><span class="s9">246</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.4</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.lesson-nav-button</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s1">background-color</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-bold text-gray-800 mb-4 text-center"</span><span class="s3">&gt;</span><span class="s4">Практика Иероглифов HSK 1</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Навигация по урокам --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-wrap gap-2 justify-center mb-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-lesson</span><span class="s3">=</span><span class="s1">"1"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lesson-nav-button bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-full text-sm shadow-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>Урок 1 (你好)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-lesson</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lesson-nav-button bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-full text-sm shadow-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>Урок 2 (谢谢)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-lesson</span><span class="s3">=</span><span class="s1">"3"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lesson-nav-button bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-full text-sm shadow-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>Урок 3 (名字)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Блок информации о текущем слове --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"info-box p-4 mb-6 rounded-lg"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col sm:flex-row justify-between items-start sm:items-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold mb-2 sm:mb-0"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span>Урок: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"currentLesson"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-black text-2xl"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4"> | Иероглиф: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"currentIdeogram"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-black"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-right"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-mono"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"pinyin"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-lg"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"meaning"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Основная область практики: Анимация (слева) и Холст (справа) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 md:grid-cols-2 gap-6"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Колонка 1: Анимация (Гайд) --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-md font-medium text-gray-700 mb-2"</span><span class="s3">&gt;</span><span class="s1">1. Посмотрите правильный порядок черт:</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"animationTarget"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full aspect-square"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"animateButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"action-button bg-gray-600 hover:bg-gray-700 text-white w-full font-bold py-2 px-4 rounded-lg shadow-md mt-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Повторить Анимацию</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Колонка 2: Практика (Ваш Холст) --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-md font-medium text-gray-700 mb-2"</span><span class="s3">&gt;</span><span class="s1">2. Напишите иероглиф здесь:</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"writingCanvas"</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"370"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"370"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full aspect-square"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"clearButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"action-button bg-red-500 hover:bg-red-600 text-white w-full font-bold py-2 px-4 rounded-lg shadow-md mt-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Очистить</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Кнопки навигации по словам --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-between gap-4 mt-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"prevButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"action-button bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-full shadow-lg text-lg flex-1"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>← Предыдущее слово</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"nextButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"action-button bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full shadow-lg text-lg flex-1"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>Следующее слово →</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Поле для сообщений --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"message"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 p-3 text-center rounded-lg font-medium hidden"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 1. Структура данных HSK 1 по урокам (Обновлена) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> hsk1Lessons </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">1</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>title</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Приветствия"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>words</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"你"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"nǐ"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"ты"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"您"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"nín"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Вы (вежл.)"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"好"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"hǎo"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"хороший"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"对"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"duì"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"правильный (часть '对不起')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"不"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"bù"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"нет; не (часть '对不起')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"起"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"qǐ"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"вставать (часть '对不起')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"没"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"méi"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"нет; не (часть '没关系')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"关"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"guān"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"закрывать (часть '没关系')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"系"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"xì"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"связь (часть '没关系')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">2</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Благодарность и прощание"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>words</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"谢"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"xiè"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"благодарить (часть '谢谢')"</span><span class="s1"> </span><span class="s7">},</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"客"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"kè"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"гость (часть '不客气')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s4"> char</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"气"</span><span class="s7">,</span><span class="s4"> pinyin</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"qì"</span><span class="s7">,</span><span class="s4"> meaning</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"воздух; вежливость (часть '不客气')"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"再"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"zài"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"снова"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"见"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"jiàn"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"видеть"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">3</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>title</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Имена, личности, страны"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>words</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"叫"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"jiào"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"звать; называться"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"什"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"shén"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"что? (часть '什么')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"么"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"me"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"частица (часть '什么')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"名"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"míng"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"имя"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"字"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"zì"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"иероглиф"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"我"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"wǒ"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"я"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"他"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"tā"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"он"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"她"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"tā"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"она"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"们"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"men"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"суффикс мн. ч."</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"是"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"shì"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"быть; являться"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"老"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"lǎo"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"старый; опытный (часть '老师')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"师"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"shī"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"учитель; мастер (часть '老师')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"吗"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"ma"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"вопросительная частица"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"学"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"xué"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"учиться (часть '学生')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s4"> char</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"生"</span><span class="s7">,</span><span class="s4"> pinyin</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"shēng"</span><span class="s7">,</span><span class="s4"> meaning</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"рождаться; ученик (часть '学生')"</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"人"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"rén"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"человек"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"中"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"zhōng"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"середина (часть '中国')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"国"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"guó"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"страна (часть '中国')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> char</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"美"</span><span class="s7">,</span><span class="s1"> pinyin</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"měi"</span><span class="s7">,</span><span class="s1"> meaning</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"красивый (часть '美国')"</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Добавьте больше уроков сюда</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 2. Глобальные переменные состояния ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> currentLessonId </span><span class="s7">=</span><span class="s1"> </span><span class="s12">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> currentWordIndex </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> writer </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 3. Инициализация Холста (Для Рисования Пользователем) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> canvas </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'writingCanvas'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> ctx </span><span class="s7">=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">getContext</span><span class="s7">(</span><span class="s8">'2d'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> lessonButtons </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">querySelectorAll</span><span class="s7">(</span><span class="s8">'.lesson-nav-button'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 4. Основная Логика Навигации и Загрузки ---</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Загружает текущее слово из текущего урока</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> loadCurrentWord</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> lesson </span><span class="s7">=</span><span class="s1"> hsk1Lessons</span><span class="s7">[</span><span class="s1">currentLessonId</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> word </span><span class="s7">=</span><span class="s1"> lesson</span><span class="s7">.</span><span class="s1">words</span><span class="s7">[</span><span class="s1">currentWordIndex</span><span class="s7">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Обновление информации в блоке</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'currentLesson'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">currentLessonId</span><span class="s7">}</span><span class="s8"> (</span><span class="s7">${</span><span class="s1">lesson</span><span class="s7">.</span><span class="s1">title</span><span class="s7">}</span><span class="s8">)`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'currentIdeogram'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> word</span><span class="s7">.</span><span class="s1">char</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'pinyin'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> word</span><span class="s7">.</span><span class="s1">pinyin</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'meaning'</span><span class="s7">).</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> word</span><span class="s7">.</span><span class="s1">meaning</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Запуск анимации и очистка холста для практики</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawGrid</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>setupAnimation</span><span class="s7">(</span><span class="s1">word</span><span class="s7">.</span><span class="s1">char</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>showMessage</span><span class="s7">(</span><span class="s8">`Урок </span><span class="s7">${</span><span class="s1">currentLessonId</span><span class="s7">}</span><span class="s8">: </span><span class="s7">${</span><span class="s1">lesson</span><span class="s7">.</span><span class="s1">title</span><span class="s7">}</span><span class="s8">. Изучаем: </span><span class="s7">${</span><span class="s1">word</span><span class="s7">.</span><span class="s1">char</span><span class="s7">}</span><span class="s8"> (</span><span class="s7">${</span><span class="s1">word</span><span class="s7">.</span><span class="s1">pinyin</span><span class="s7">}</span><span class="s8">)`</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'info'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Обновление состояния кнопок (предыдущее/следующее)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>updateNavigationButtons</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Переключает урок</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> switchLesson</span><span class="s7">(</span><span class="s1">newLessonId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">hsk1Lessons</span><span class="s7">[</span><span class="s1">newLessonId</span><span class="s7">])</span><span class="s1"> </span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>currentLessonId </span><span class="s7">=</span><span class="s1"> newLessonId</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>currentWordIndex </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Обновление стилей кнопок урока</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>lessonButtons</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">btn </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> lessonId </span><span class="s7">=</span><span class="s1"> parseInt</span><span class="s7">(</span><span class="s1">btn</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">lesson</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">lessonId </span><span class="s7">===</span><span class="s1"> currentLessonId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s8">'bg-gray-300'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'bg-blue-600'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s8">'text-gray-800'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'text-white'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s8">'bg-blue-600'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'bg-gray-300'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s8">'text-white'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'text-gray-800'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>loadCurrentWord</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Обновляет видимость и состояние кнопок навигации по словам</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> updateNavigationButtons</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> wordsInLesson </span><span class="s7">=</span><span class="s1"> hsk1Lessons</span><span class="s7">[</span><span class="s1">currentLessonId</span><span class="s7">].</span><span class="s1">words</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> prevBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'prevButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> nextBtn </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'nextButton'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>prevBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentWordIndex </span><span class="s7">===</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>nextBtn</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentWordIndex </span><span class="s7">===</span><span class="s1"> wordsInLesson </span><span class="s7">-</span><span class="s1"> </span><span class="s12">1</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Стиль для отключенных кнопок</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">prevBtn</span><span class="s7">.</span><span class="s1">disabled</span><span class="s7">)</span><span class="s1"> prevBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">);</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> prevBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">nextBtn</span><span class="s7">.</span><span class="s1">disabled</span><span class="s7">)</span><span class="s1"> nextBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">);</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> nextBtn</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 5. Функции Рисования и Hanzi Writer ---</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Рисует сетку "рисовое поле"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawGrid</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> size </span><span class="s7">=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">strokeStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#e5e7eb'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">lineWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s12">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">clearRect</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">setLineDash</span><span class="s7">([</span><span class="s12">5</span><span class="s7">,</span><span class="s1"> </span><span class="s12">5</span><span class="s7">]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">beginPath</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">moveTo</span><span class="s7">(</span><span class="s1">size </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span><span class="s1"> ctx</span><span class="s7">.</span><span class="s1">lineTo</span><span class="s7">(</span><span class="s1">size </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">moveTo</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> size </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">);</span><span class="s1"> ctx</span><span class="s7">.</span><span class="s1">lineTo</span><span class="s7">(</span><span class="s1">size</span><span class="s7">,</span><span class="s1"> size </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">stroke</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">setLineDash</span><span class="s7">([]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">strokeStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#d1d5db'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">strokeRect</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">,</span><span class="s1"> size</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Настройка и запуск анимации</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> setupAnimation</span><span class="s7">(</span><span class="s1">char</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> targetDiv </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'animationTarget'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> size </span><span class="s7">=</span><span class="s1"> targetDiv</span><span class="s7">.</span><span class="s1">clientWidth</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>targetDiv</span><span class="s7">.</span><span class="s1">innerHTML </span><span class="s7">=</span><span class="s1"> </span><span class="s8">''</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>writer </span><span class="s7">=</span><span class="s1"> </span><span class="s13">HanziWriter</span><span class="s7">.</span><span class="s1">create</span><span class="s7">(</span><span class="s8">'animationTarget'</span><span class="s7">,</span><span class="s1"> char</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>width</span><span class="s7">:</span><span class="s1"> size</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>height</span><span class="s7">:</span><span class="s1"> size</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>padding</span><span class="s7">:</span><span class="s1"> </span><span class="s12">5</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>showOutline</span><span class="s7">:</span><span class="s1"> </span><span class="s11">true</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>strokeColor</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'#f87171'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>delayBetweenStrokes</span><span class="s7">:</span><span class="s1"> </span><span class="s12">100</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>drawingColor</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'#1d4ed8'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Исправлено: используем animateCharacter()</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>writer</span><span class="s7">.</span><span class="s1">animateCharacter</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>console</span><span class="s7">.</span><span class="s4">error</span><span class="s7">(</span><span class="s1">"Ошибка при создании Hanzi Writer для символа:"</span><span class="s7">,</span><span class="s4"> char</span><span class="s7">,</span><span class="s4"> error</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Если иероглиф не найден, показываем его крупно</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>targetDiv</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`&lt;div class="flex justify-center items-center w-full h-full text-9xl text-gray-800"&gt;</span><span class="s7">${</span><span class="s4">char</span><span class="s7">}</span><span class="s1">&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>writer </span><span class="s7">=</span><span class="s1"> </span><span class="s11">null</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Адаптивность и перерисовка</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> resizeElements</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> targetDiv </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'animationTarget'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> size </span><span class="s7">=</span><span class="s1"> targetDiv</span><span class="s7">.</span><span class="s1">clientWidth</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">=</span><span class="s1"> size</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">height </span><span class="s7">=</span><span class="s1"> size</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>loadCurrentWord</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'resize'</span><span class="s7">,</span><span class="s1"> resizeElements</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>resizeElements</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span>switchLesson</span><span class="s7">(</span><span class="s12">1</span><span class="s7">);</span><span class="s4"> </span><span class="s1">// Начинаем с первого урока</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 6. Логика Рисования (Оставлена без изменений) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> isDrawing </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> lastX </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> lastY </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> startDrawing</span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>e</span><span class="s7">.</span><span class="s1">preventDefault</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isDrawing </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">[</span><span class="s1">lastX</span><span class="s7">,</span><span class="s1"> lastY</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> getCoords</span><span class="s7">(</span><span class="s1">e</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> draw</span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">isDrawing</span><span class="s7">)</span><span class="s1"> </span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>e</span><span class="s7">.</span><span class="s1">preventDefault</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> </span><span class="s7">[</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> getCoords</span><span class="s7">(</span><span class="s1">e</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">beginPath</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">moveTo</span><span class="s7">(</span><span class="s1">lastX</span><span class="s7">,</span><span class="s1"> lastY</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">lineTo</span><span class="s7">(</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">strokeStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#1d4ed8'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">lineWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s12">8</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">lineCap </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'round'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">lineJoin </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'round'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s7">.</span><span class="s1">stroke</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">[</span><span class="s1">lastX</span><span class="s7">,</span><span class="s1"> lastY</span><span class="s7">]</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> stopDrawing</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isDrawing </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> getCoords</span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> rect </span><span class="s7">=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">getBoundingClientRect</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> clientX</span><span class="s7">,</span><span class="s1"> clientY</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">touches </span><span class="s7">&amp;&amp;</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">touches</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientX </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">touches</span><span class="s7">[</span><span class="s12">0</span><span class="s7">].</span><span class="s1">clientX</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientY </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">touches</span><span class="s7">[</span><span class="s12">0</span><span class="s7">].</span><span class="s1">clientY</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientX </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">clientX</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientY </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">clientY</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">return</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientX </span><span class="s7">-</span><span class="s1"> rect</span><span class="s7">.</span><span class="s1">left</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>clientY </span><span class="s7">-</span><span class="s1"> rect</span><span class="s7">.</span><span class="s1">top</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mousedown'</span><span class="s7">,</span><span class="s1"> startDrawing</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mousemove'</span><span class="s7">,</span><span class="s1"> draw</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mouseup'</span><span class="s7">,</span><span class="s1"> stopDrawing</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mouseout'</span><span class="s7">,</span><span class="s1"> stopDrawing</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchstart'</span><span class="s7">,</span><span class="s1"> startDrawing</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchmove'</span><span class="s7">,</span><span class="s1"> draw</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchend'</span><span class="s7">,</span><span class="s1"> stopDrawing</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 7. Логика Кнопок ---</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'clearButton'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawGrid</span><span class="s7">();</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span>showMessage</span><span class="s7">(</span><span class="s1">'Холст очищен. Попробуйте снова!'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'prevButton'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentWordIndex </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>currentWordIndex</span><span class="s7">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loadCurrentWord</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'nextButton'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentWordIndex </span><span class="s7">&lt;</span><span class="s1"> hsk1Lessons</span><span class="s7">[</span><span class="s1">currentLessonId</span><span class="s7">].</span><span class="s1">words</span><span class="s7">.</span><span class="s1">length </span><span class="s7">-</span><span class="s1"> </span><span class="s12">1</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>currentWordIndex</span><span class="s7">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loadCurrentWord</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'animateButton'</span><span class="s7">).</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">writer </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s11">typeof</span><span class="s1"> writer</span><span class="s7">.</span><span class="s1">animateCharacter </span><span class="s7">===</span><span class="s1"> </span><span class="s8">'function'</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>writer</span><span class="s7">.</span><span class="s1">animateCharacter</span><span class="s7">();</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>showMessage</span><span class="s7">(</span><span class="s1">'Анимация порядка черт повторяется.'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">writer</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span>showMessage</span><span class="s7">(</span><span class="s1">'Для этого слова нет данных об анимации, но вы можете его нарисовать!'</span><span class="s7">,</span><span class="s4"> </span><span class="s1">'info'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// Слушатели для кнопок уроков</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>lessonButtons</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">btn </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>btn</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> lessonId </span><span class="s7">=</span><span class="s1"> parseInt</span><span class="s7">(</span><span class="s1">btn</span><span class="s7">.</span><span class="s1">dataset</span><span class="s7">.</span><span class="s1">lesson</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>switchLesson</span><span class="s7">(</span><span class="s1">lessonId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 8. Управление Сообщениями ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> showMessage</span><span class="s7">(</span><span class="s1">text</span><span class="s7">,</span><span class="s1"> type</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> messageBox </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'message'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>messageBox</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> text</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span>messageBox</span><span class="s7">.</span><span class="s4">className </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'mt-4 p-3 text-center rounded-lg font-medium'</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">switch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">type</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">case</span><span class="s1"> </span><span class="s8">'success'</span><span class="s7">:</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'bg-green-100'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'text-green-800'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">case</span><span class="s1"> </span><span class="s8">'info'</span><span class="s7">:</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'bg-blue-100'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'text-blue-800'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">default</span><span class="s7">:</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
